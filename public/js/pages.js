(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{220:function(e,t,r){"use strict";r.r(t);var n=r(54),s=r.n(n),i=r(45),a=r(70),o=r(69),l=r.n(o),c=r(49),d=r(48),u={components:{FileUpload:l.a,quillEditor:a.quillEditor,Button:i.a,vueDropzone:s.a,BreadCrumb:c.a,Loader:d.a},data:function(){return{loading:!0,requestServer:!1,dropzoneOptions:{url:"/",maxFiles:1,acceptedFiles:"image/png,image/jpeg,image/jpg,image/svg+xml",autoProcessQueue:!1,thumbnailWidth:400,addRemoveLinks:!0,dictRemoveFile:"Remover Imagen"},dropzoneVideoOptions:{url:"/",maxFiles:1,acceptedFiles:"video/mp4",autoProcessQueue:!1,addRemoveLinks:!0,dictRemoveFile:"Remover Video"},quillEditorOptions:{placeholder:"",modules:{toolbar:{handlers:{image:function(e){document.getElementById("id_content_images").click()}},container:[["bold","italic","underline","strike"],["blockquote"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{size:[!1]}],[{header:[1,2,3,4,5,!1]}],[{font:[!1]}],[{color:[]},{background:[]}],[{align:[]}],["link","image","video"]]}}},startBlock:!0,elementBlock:!1,pages:{sections:[]},page:{},section:{id:"",name:"",image:"",title:"",description:""},fields:{},image:[],image_responsive:[],video:[]}},methods:{updateSection:function(){var e=this;this.requestServer=!0;var t=new FormData;t.append("section_id",this.section.id),t.append("content",JSON.stringify(this.fields)),this.$refs.ref_image&&this.$refs.ref_image.length>0&&this.$refs.ref_image[0].dropzone.files[0]&&t.append("image",this.$refs.ref_image[0].dropzone.files[0]),this.$refs.ref_image_responsive&&this.$refs.ref_image_responsive.length>0&&this.$refs.ref_image_responsive[0].dropzone.files[0]&&t.append("image_responsive",this.$refs.ref_image_responsive[0].dropzone.files[0]),this.$refs.ref_background&&this.$refs.ref_background.length>0&&this.$refs.ref_background[0].dropzone.files[0]&&t.append("background",this.$refs.ref_background[0].dropzone.files[0]),this.$refs.ref_video&&this.$refs.ref_video.length>0&&this.$refs.ref_video[0].dropzone.files[0]&&t.append("video",this.$refs.ref_video[0].dropzone.files[0]),axios.post("pages",t).then((function(t){e.requestServer=!1,e.restorePage(),Swal.fire({title:t.data.title,text:t.data.message,type:"success",confirmButtonText:"OK",buttonsStyling:!1,customClass:{confirmButton:"btn btn-primary"}})})).catch((function(t){e.requestServer=!1,422!==t.response.status?(e.restorePage(),Swal.fire({title:t.response.data.title,text:t.response.data.message,type:"error",confirmButtonText:"OK",buttonsStyling:!1,customClass:{confirmButton:"btn btn-primary"}})):e.errores=t.response.data.errors||{}}))},restorePage:function(){this.elementBlock&&(this.elementBlock=!1,this.startBlock=!0,this.section={id:"",name:"",title:"",description:"",images:[]},this.fields={})},getSection:function(e,t,r){var n=this;this.page=this.pages.find((function(e){return e.id===r})),axios.get("json/pages/section/"+e).then((function(r){n.fields=r.data,n.section.id=e,n.section.name=t,n.startBlock=!1,n.elementBlock=!0})).catch((function(e){}))},getPage:function(e){var t=this;axios.get("json/pages/"+e).then((function(e){t.page=e.data})).catch((function(e){}))},getPages:function(){var e=this;axios.get("json/pages").then((function(t){e.pages=t.data,e.loading=!1})).catch((function(e){}))}},created:function(){this.getPages()}},f=r(43),p=Object(f.a)(u,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"header pb-6"},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"header-body"},[r("div",{staticClass:"row align-items-center py-4"},[r("div",{staticClass:"col-12"},[r("BreadCrumb",{attrs:{title:"Páginas",active:"Páginas"}})],1)])])])]),e._v(" "),r("div",{staticClass:"container-fluid mt--6"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 mb-4"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.startBlock,expression:"startBlock"}],staticClass:"row"},[e.loading?r("div",{staticClass:"col-12"},[r("Loader",{attrs:{texto:"Cargando...",iconClasses:["ml-1"],iconWidth:20,iconHeight:20,styles:{height:"500px"}}})],1):r("div",{staticClass:"col-12"},[r("div",{staticClass:"row"},e._l(e.pages,(function(t){return r("div",{key:t.id,staticClass:"col-12"},[r("h3",{staticClass:"font-weight-bold mb-4 text-dark"},[e._v(e._s(t.name)+" ("+e._s(t.sections_count)+" secciones)")]),e._v(" "),r("div",{staticClass:"row"},e._l(t.sections,(function(n){return r("div",{key:n.id,staticClass:"col-12 col-lg-6 col-xl-3"},[r("div",{staticClass:"card shadow mb-4"},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"row align-items-center"},[r("div",{staticClass:"col"},[r("small",{staticClass:"text-dark mb-0"},[e._v("Sección")]),e._v(" "),r("h4",{staticClass:"font-weight-bold mb-0 text-uppercase text-dark"},[e._v(e._s(n.name))])]),e._v(" "),r("div",{staticClass:"col-auto"},[r("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button"},on:{click:function(r){return r.preventDefault(),e.getSection(n.id,n.name,t.id)}}},[r("i",{staticClass:"fas fa-pen-alt text-warning mr-1"}),e._v("\n                            Editar\n                          ")])])])])])])})),0)])})),0)])]),e._v(" "),e.elementBlock?r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"card shadow"},[r("div",{staticClass:"card-header border-0"},[r("h2",{staticClass:"mb-0 text-uppercase text-primary"},[e._v("Página "+e._s(e.page.name)+" - Sección: "+e._s(e.section.name))])]),e._v(" "),r("div",{staticClass:"card-body"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.updateSection(t)}}},[r("file-upload",{ref:"ref_content_images",staticClass:"d-none",attrs:{extensions:"jpg,jpeg,png",accept:"image/png, image/jpeg, image/jpg",drop:!1,multiple:!0,"input-id":"id_content_images"},on:{"input-filter":function(t){return e.$uploadImageUploadComponent(t,e.$refs.ref_content[0],25e4,"500kb","pages")}},model:{value:e.section.images,callback:function(t){e.$set(e.section,"images",t)},expression:"section.images"}}),e._v(" "),e._l(e.fields,(function(t,n){return r("div",{key:t.id},[r("div",{staticClass:"col-12 p-0"},[r("div",{staticClass:"form-group"},[r("label",{staticClass:"font-weight-bold"},[e._v(e._s(t.name))]),e._v(" "),"input"==t.type?r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.fields[n].value,expression:"fields[index].value"}],staticClass:"form-control form-control-alternative",attrs:{type:"text"},domProps:{value:e.fields[n].value},on:{input:function(t){t.target.composing||e.$set(e.fields[n],"value",t.target.value)}}})]):e._e(),e._v(" "),"editor_small"==t.type?r("div",[r("quill-editor",{ref:"ref_content",refInFor:!0,staticClass:"ql-height-8",attrs:{placeholder:"",options:e.quillEditorOptions},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}},model:{value:e.fields[n].value,callback:function(t){e.$set(e.fields[n],"value",t)},expression:"fields[index].value"}})],1):e._e(),e._v(" "),"editor_large"==t.type?r("div",[r("quill-editor",{ref:"ref_content",refInFor:!0,staticClass:"ql-height-25",attrs:{placeholder:"",options:e.quillEditorOptions},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}},model:{value:e.fields[n].value,callback:function(t){e.$set(e.fields[n],"value",t)},expression:"fields[index].value"}})],1):e._e(),e._v(" "),"image"==t.type?r("div",[r("div",{staticClass:"row"},[t.value?r("div",{staticClass:"col-12 col-lg-4"},[r("img",{staticClass:"img-fluid d-block mb-3",attrs:{src:"https://storage.googleapis.com/playgroup-web/img/pages/"+t.value,alt:t.name}})]):e._e(),e._v(" "),r("div",{staticClass:"col-12",class:{"col-lg-8":t.value}},[r("vue-dropzone",{ref:"ref_"+t.variable,refInFor:!0,attrs:{id:"id_"+t.variable,options:e.dropzoneOptions,duplicateCheck:!0,useCustomSlot:!0},on:{"vdropzone-file-added":function(r){return e.$validateImageDropzone(r,e.$refs["ref_"+t.variable][0].dropzone,1,25e4,"250kb")}}},[r("div",{staticClass:"dropzone-custom-content"},[r("h5",{staticClass:"dropzone-custom-title text-primary"},[e._v("Suelte el archivo aquí o haga click para cargarlo.")])])])],1)])]):e._e(),e._v(" "),"video"==t.type?r("div",[r("div",{staticClass:"row"},[t.value?r("div",{staticClass:"col-12 mb-3"},[r("a",{staticClass:"btn btn-primary",attrs:{target:"_blank",href:"/storage/videos/pages/"+t.value}},[r("i",{staticClass:"fas fa-play mr-1"}),e._v("\n                                Ver Video\n                              ")])]):e._e(),e._v(" "),r("div",{staticClass:"col-12"},[r("vue-dropzone",{ref:"ref_video",refInFor:!0,attrs:{id:"id_"+t.variable,options:e.dropzoneVideoOptions,duplicateCheck:!0,useCustomSlot:!0},on:{"vdropzone-file-added":function(t){return e.$validateVideoDropzone(t,e.$refs.ref_video[0].dropzone,1,8388608,"8mb")}}},[r("div",{staticClass:"dropzone-custom-content"},[r("h5",{staticClass:"dropzone-custom-title text-primary"},[e._v("Suelte el archivo aquí o haga click para cargarlo.")])])])],1)])]):e._e()])])])})),e._v(" "),r("div",{staticClass:"col-12 p-0 text-right"},[r("Button",{attrs:{text:"Actualizar",classes:["btn-primary"],"request-server":e.requestServer}}),e._v(" "),r("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.restorePage(t)}}},[e._v("Cancelar")])],1)],2)])])])]):e._e()])])])])}),[],!1,null,null,null);t.default=p.exports},44:function(e,t,r){var n=r(51);"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r(47)(n,s);n.locals&&(e.exports=n.locals)},45:function(e,t,r){"use strict";var n={props:{text:String,classes:Array,requestServer:Boolean},methods:{click:function(){this.$emit("click")}}},s=r(43),i=Object(s.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"btn",class:e.classes,attrs:{disabled:1==e.requestServer},on:{click:e.click}},[e.requestServer?r("span",[e._v("\n        Cargando \n        "),r("svg",{staticClass:"ml-1",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 40 40",stroke:"#fff"}},[r("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[r("g",{attrs:{transform:"translate(1 1)","stroke-width":"2"}},[r("circle",{attrs:{"stroke-opacity":"1",cx:"0",cy:"0",r:"0"}}),e._v(" "),r("path",{attrs:{d:"M36 18c0-9.94-8.06-18-18-18",transform:"rotate(83.9974 18 18)"}},[r("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}})],1)])])])]):r("span",[e._v(e._s(e.text))])])}),[],!1,null,null,null);t.a=i.exports},46:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var s=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[r].concat(i).concat([s]).join("\n")}var a;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var i=this[s][0];"number"==typeof i&&(n[i]=!0)}for(s=0;s<e.length;s++){var a=e[s];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},47:function(e,t,r){var n,s,i={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=n.apply(this,arguments)),s}),o=function(e,t){return t?t.querySelector(e):document.querySelector(e)},l=function(e){var t={};return function(e,r){if("function"==typeof e)return e();if(void 0===t[e]){var n=o.call(this,e,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,d=0,u=[],f=r(53);function p(e,t){for(var r=0;r<e.length;r++){var n=e[r],s=i[n.id];if(s){s.refs++;for(var a=0;a<s.parts.length;a++)s.parts[a](n.parts[a]);for(;a<n.parts.length;a++)s.parts.push(_(n.parts[a],t))}else{var o=[];for(a=0;a<n.parts.length;a++)o.push(_(n.parts[a],t));i[n.id]={id:n.id,refs:1,parts:o}}}}function v(e,t){for(var r=[],n={},s=0;s<e.length;s++){var i=e[s],a=t.base?i[0]+t.base:i[0],o={css:i[1],media:i[2],sourceMap:i[3]};n[a]?n[a].parts.push(o):r.push(n[a]={id:a,parts:[o]})}return r}function m(e,t){var r=l(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),u.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=l(e.insertAt.before,r);r.insertBefore(t,s)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function h(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return r.nc}();n&&(e.attrs.nonce=n)}return b(t,e.attrs),m(e,t),t}function b(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function _(e,t){var r,n,s,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var a=d++;r=c||(c=h(t)),n=k.bind(null,r,a,!1),s=k.bind(null,r,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(t,e.attrs),m(e,t),t}(t),n=w.bind(null,r,t),s=function(){g(r),r.href&&URL.revokeObjectURL(r.href)}):(r=h(t),n=x.bind(null,r),s=function(){g(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=v(e,t);return p(r,t),function(e){for(var n=[],s=0;s<r.length;s++){var a=r[s];(o=i[a.id]).refs--,n.push(o)}e&&p(v(e,t),t);for(s=0;s<n.length;s++){var o;if(0===(o=n[s]).refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete i[o.id]}}}};var y,C=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function k(e,t,r,n){var s=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=C(t,s);else{var i=document.createTextNode(s),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function x(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function w(e,t,r){var n=r.css,s=r.sourceMap,i=void 0===t.convertToAbsoluteUrls&&s;(t.convertToAbsoluteUrls||i)&&(n=f(n)),s&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var a=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}},48:function(e,t,r){"use strict";var n={props:{iconClasses:Array,iconoEstilos:Object,texto:String,styles:Object,iconWidth:{type:Number,required:!0},iconHeight:{type:Number,required:!0}}},s=r(43),i=Object(s.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"component-loader text-sm w-100",style:e.styles},[r("div",{staticClass:"d-flex align-items-center justify-content-center h-100"},[e.texto?r("span",[e._v(e._s(e.texto))]):e._e(),e._v(" "),r("svg",{class:e.iconClasses,style:e.iconoEstilos,attrs:{xmlns:"http://www.w3.org/2000/svg",width:e.iconWidth,height:e.iconHeight,viewBox:"0 0 40 40",stroke:"#525f7f"}},[r("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[r("g",{attrs:{transform:"translate(1 1)","stroke-width":"2"}},[r("circle",{attrs:{"stroke-opacity":"1",cx:"0",cy:"0",r:"0"}}),e._v(" "),r("path",{attrs:{d:"M36 18c0-9.94-8.06-18-18-18",transform:"rotate(83.9974 18 18)"}},[r("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}})],1)])])])])])}),[],!1,null,null,null);t.a=i.exports},49:function(e,t,r){"use strict";var n={props:{title:String,parent:String,active:String}},s=(r(50),r(43)),i=Object(s.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h6",{staticClass:"h2 text-primary text-uppercase d-inline-block mb-0"},[e._v(e._s(e.title))]),e._v(" "),r("nav",{staticClass:"d-none d-lg-inline-block ml-md-4",attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb p-0 m-0 breadcrumb-links bg-transparent"},[e._m(0),e._v(" "),e.parent?r("li",{staticClass:"breadcrumb-item"},[r("a",[e._v(e._s(e.parent))])]):e._e(),e._v(" "),e.active?r("li",{staticClass:"breadcrumb-item text-primary",attrs:{"aria-current":"page"}},[e._v(e._s(e.active))]):e._e()])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"breadcrumb-item"},[t("a",{attrs:{href:"/dashboard"}},[t("i",{staticClass:"fas fa-chart-bar"})])])}],!1,null,"cb11d98c",null);t.a=i.exports},50:function(e,t,r){"use strict";var n=r(44);r.n(n).a},51:function(e,t,r){(e.exports=r(46)(!1)).push([e.i,"\n.breadcrumb-dark .breadcrumb-item+.breadcrumb-item[data-v-cb11d98c]::before {\r\n    color: #adb5bd;\n}\n.breadcrumb-item+.breadcrumb-item[data-v-cb11d98c]::before {\r\n    display: inline-block;\r\n    padding-right: .5rem;\r\n    content: '-';\r\n    color: #8898aa;\n}\n.bg-transparent[data-v-cb11d98c]{\r\n  background: transparent;\n}\r\n",""])},53:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var s,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(s=0===i.indexOf("//")?i:0===i.indexOf("/")?r+i:n+i.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}}}]);