(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"1jZt":function(t,e,r){var a=r("uNoH");"string"==typeof a&&(a=[[t.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,n);a.locals&&(t.exports=a.locals)},"5sbD":function(t,e,r){var a=r("KsmT");"string"==typeof a&&(a=[[t.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,n);a.locals&&(t.exports=a.locals)},"F/Qi":function(t,e,r){"use strict";r("5sbD")},F05R:function(t,e,r){"use strict";var a={props:{showBreadCrumb:{default:!0,type:Boolean},title:String,parent:String,active:String}},n=(r("F/Qi"),r("KHd+")),s=Object(n.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.showBreadCrumb?r("nav",{staticClass:"d-lg-inline-block",attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb p-0 m-0 breadcrumb-links bg-transparent"},[r("li",{staticClass:"breadcrumb-item"},[r("a",{attrs:{href:"/dashboard"}},[r("jam-pie-chart",{attrs:{height:"16",width:"16"}})],1)]),t._v(" "),t.parent?r("li",{staticClass:"breadcrumb-item"},[r("a",[t._v(t._s(t.parent))])]):t._e(),t._v(" "),t.active?r("li",{staticClass:"breadcrumb-item text-primary",attrs:{"aria-current":"page"}},[t._v(t._s(t.active))]):t._e()])]):t._e(),t._v(" "),r("h1",{staticClass:"h1 font-weight-bold mb-0"},[t._v(t._s(t.title))])])}),[],!1,null,"0286e577",null);e.a=s.exports},J3pF:function(t,e,r){"use strict";r("1jZt")},"KT/n":function(t,e,r){(t.exports=r("I1BE")(!1)).push([t.i,"\n.radio-customized .custom-control-label::after,\r\n.radio-customized .custom-control-label::before {\r\n  border-radius: 50%;\n}\r\n",""])},KsmT:function(t,e,r){(t.exports=r("I1BE")(!1)).push([t.i,'\n.breadcrumb-dark .breadcrumb-item + .breadcrumb-item[data-v-0286e577]::before {\r\n  color: #adb5bd;\n}\n.breadcrumb-item + .breadcrumb-item[data-v-0286e577]::before {\r\n  display: inline-block;\r\n  padding-right: 0.5rem;\r\n  content: "-";\r\n  color: #8898aa;\n}\n.bg-transparent[data-v-0286e577] {\r\n  background: transparent;\n}\r\n',""])},TVlQ:function(t,e,r){"use strict";var a={props:{text:String,classes:Array,requestServer:Boolean},methods:{click:function(){this.$emit("click")}}},n=(r("J3pF"),r("KHd+")),s=Object(n.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"btn",class:t.classes,attrs:{disabled:1==t.requestServer},on:{click:t.click}},[t.requestServer?r("span",[t._v("\n        Cargando \n        "),r("svg",{staticClass:"ml-1 loading-svg",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 40 40"}},[r("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[r("g",{attrs:{transform:"translate(1 1)","stroke-width":"3"}},[r("circle",{attrs:{"stroke-opacity":"1",cx:"0",cy:"0",r:"0"}}),t._v(" "),r("path",{attrs:{d:"M36 18c0-9.94-8.06-18-18-18",transform:"rotate(83.9974 18 18)"}},[r("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}})],1)])])])]):r("span",[t._v(t._s(t.text))])])}),[],!1,null,"7a0ec1bd",null);e.a=s.exports},cWtb:function(t,e,r){t.exports=function(t){function e(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,a){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=".",e(e.s=9)}([function(t,e,r){"use strict";e.a={prefix:"",suffix:"",thousands:",",decimal:".",precision:2}},function(t,e,r){"use strict";var a=r(2),n=r(5),s=r(0);e.a=function(t,e){if(e.value){var i=r.i(n.a)(s.a,e.value);if("INPUT"!==t.tagName.toLocaleUpperCase()){var o=t.getElementsByTagName("input");1!==o.length||(t=o[0])}t.oninput=function(){var e=t.value.length-t.selectionEnd;t.value=r.i(a.a)(t.value,i),e=Math.max(e,i.suffix.length),e=t.value.length-e,e=Math.max(e,i.prefix.length+1),r.i(a.b)(t,e),t.dispatchEvent(r.i(a.c)("change"))},t.onfocus=function(){r.i(a.b)(t,t.value.length-i.suffix.length)},t.oninput(),t.dispatchEvent(r.i(a.c)("input"))}}},function(t,e,r){"use strict";function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a;"number"==typeof t&&(t=t.toFixed(i(e.precision)));var r=t.indexOf("-")>=0?"-":"",a=s(t),n=o(a,e.precision),d=u(n).split("."),p=d[0],f=d[1];return p=c(p,e.thousands),e.prefix+r+l(p,f,e.decimal)+e.suffix}function n(t,e){var r=t.indexOf("-")>=0?-1:1,a=o(s(t),e);return parseFloat(a)*r}function s(t){return u(t).replace(/\D+/g,"")||"0"}function i(t){return function(t,e,r){return Math.max(t,Math.min(e,r))}(0,t,20)}function o(t,e){var r=Math.pow(10,e);return(parseFloat(t)/r).toFixed(i(e))}function c(t,e){return t.replace(/(\d)(?=(?:\d{3})+\b)/gm,"$1"+e)}function l(t,e,r){return e?t+r+e:t}function u(t){return t?t.toString():""}function d(t,e){var r=function(){t.setSelectionRange(e,e)};t===document.activeElement&&(r(),setTimeout(r,1))}function p(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}var m=r(0);r.d(e,"a",(function(){return a})),r.d(e,"d",(function(){return n})),r.d(e,"b",(function(){return d})),r.d(e,"c",(function(){return p}))},function(t,e,r){"use strict";function a(t,e){e&&Object.keys(e).map((function(t){o.a[t]=e[t]})),t.directive("money",i.a),t.component("money",s.a)}Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),s=r.n(n),i=r(1),o=r(0);r.d(e,"Money",(function(){return s.a})),r.d(e,"VMoney",(function(){return i.a})),r.d(e,"options",(function(){return o.a})),r.d(e,"VERSION",(function(){return c}));var c="0.8.1";e.default=a,"undefined"!=typeof window&&window.Vue&&window.Vue.use(a)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(1),n=r(0),s=r(2);e.default={name:"Money",props:{value:{required:!0,type:[Number,String],default:0},masked:{type:Boolean,default:!1},precision:{type:Number,default:function(){return n.a.precision}},decimal:{type:String,default:function(){return n.a.decimal}},thousands:{type:String,default:function(){return n.a.thousands}},prefix:{type:String,default:function(){return n.a.prefix}},suffix:{type:String,default:function(){return n.a.suffix}}},directives:{money:a.a},data:function(){return{formattedValue:""}},watch:{value:{immediate:!0,handler:function(t,e){var a=r.i(s.a)(t,this.$props);a!==this.formattedValue&&(this.formattedValue=a)}}},methods:{change:function(t){this.$emit("input",this.masked?t.target.value:r.i(s.d)(t.target.value,this.precision))}}}},function(t,e,r){"use strict";e.a=function(t,e){return t=t||{},e=e||{},Object.keys(t).concat(Object.keys(e)).reduce((function(r,a){return r[a]=void 0===e[a]?t[a]:e[a],r}),{})}},function(t,e,r){var a=r(7)(r(4),r(8),null,null);t.exports=a.exports},function(t,e){t.exports=function(t,e,r,a){var n,s=t=t||{},i=typeof t.default;"object"!==i&&"function"!==i||(n=t,s=t.default);var o="function"==typeof s?s.options:s;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),r&&(o._scopeId=r),a){var c=o.computed||(o.computed={});Object.keys(a).forEach((function(t){var e=a[t];c[t]=function(){return e}}))}return{esModule:n,exports:s,options:o}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"money",rawName:"v-money",value:{precision:t.precision,decimal:t.decimal,thousands:t.thousands,prefix:t.prefix,suffix:t.suffix},expression:"{precision, decimal, thousands, prefix, suffix}"}],staticClass:"v-money",attrs:{type:"tel"},domProps:{value:t.formattedValue},on:{change:t.change}})},staticRenderFns:[]}},function(t,e,r){t.exports=r(3)}])},gktr:function(t,e,r){var a=r("KT/n");"string"==typeof a&&(a=[[t.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,n);a.locals&&(t.exports=a.locals)},qgcd:function(t,e,r){"use strict";r("gktr")},ttri:function(t,e,r){"use strict";r.r(e);var a=r("F05R"),n=r("ksP6"),s=r.n(n),i=r("cWtb"),o=r("TVlQ"),c=r("0YuL"),l=r("jTuR"),u=(r("8TgE"),{props:{projects:Array,appUrl:String,imagesUrl:String,routeUpdate:String,routeReturn:String,routeDepartmentsGetAll:String,elementParent:Object},components:{BreadCrumb:a.a,vueDropzone:s.a,Button:o.a,Money:i.Money,Skeleton:c.a,simplebar:l.a},data:function(){return{requestServer:!1,errors:{},dropzoneOptions:{url:"/",maxFiles:1,acceptedFiles:"image/png,image/jpeg,image/jpg,image/svg+xml",autoProcessQueue:!1,thumbnailWidth:150,addRemoveLinks:!0,dictRemoveFile:"Remover"},moneyLocal:{thousands:",",decimal:".",prefix:"S/ ",precision:2,masked:!1},info:!1,moneyForeign:{thousands:",",decimal:".",prefix:"$ ",precision:2,masked:!1},element:{project_id:"",status:!0,warehouses:[],parkings:[],departments:[]},loadingDepartments:!1,realStates:{departments:[],parkings:[],warehouses:[]},project:{id:null,master_currency_id:1},totalPriceDep:0,totalPriceWar:0,totalPricePark:0,totalPrice:0}},methods:{submit:function(){var t=this;this.requestServer=!0;var e=new FormData;this.element.description&&e.append("description",this.element.description),this.element.project_id&&e.append("project_id",this.element.project_id),1==this.element.status?e.append("status",1):e.append("status",0),this.element.price_separation&&e.append("price_separation",this.element.price_separation),this.$refs.ref_image.dropzone.files[0]&&e.append("image",this.$refs.ref_image.dropzone.files[0]),e.append("_method","put"),axios.post(this.routeUpdate,e).then((function(e){t.requestServer=!1,document.location.href=e.data.route})).catch((function(e){t.requestServer=!1,422!==e.response.status?document.location.href=e.response.data.route:t.errors=e.response.data.errors||{}}))}},watch:{elementParent:{immediate:!0,handler:function(t){this.element=t,this.element.departments=t.departmentsEdited,this.element.parkings=t.parkingsEdited,this.element.warehouses=t.warehousesEdited}},"element.project_id":{immediate:!0,handler:function(t,e){this.project=this.projects.find((function(e){return e.id==t}))}}}}),d=(r("qgcd"),r("KHd+")),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[r("div",{staticClass:"header pb-6"},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"header-body"},[r("div",{staticClass:"row align-items-center pt-0 pt-md-2 pb-4"},[r("div",{staticClass:"col-6 col-md-7"},[r("BreadCrumb",{attrs:{title:"Actualizar Combo",parent:"",active:"Combos"}})],1),t._v(" "),r("div",{staticClass:"col-6 col-md text-right"},[0===Object.keys(t.errors).length&&t.errors.constructor===Object?r("span"):r("span",{staticClass:"d-block text-danger mb-2"},[t._v("Algunos campos estan incorrectos")]),t._v(" "),r("Button",{attrs:{text:"Actualizar",classes:["btn-inverse-primary","mr-2"],"request-server":t.requestServer}}),t._v(" "),r("a",{staticClass:"btn btn-secondary",attrs:{type:"button",href:t.routeReturn}},[t._v("Cancelar")])],1)])])])]),t._v(" "),r("div",{staticClass:"container-fluid mt--6"},[r("div",{staticClass:"row mb-4"},[t._m(0),t._v(" "),r("div",{staticClass:"col-12 col-lg-10"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"form-group"},[r("label",{staticClass:"font-weight-bold",attrs:{for:"image"}},[t._v("Imagen (Opcional):")]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-4 mb-3 mb-lg-0"},[t.element.image?r("img",{staticClass:"img-fluid",attrs:{src:t.imagesUrl+"/projects/combos/"+t.element.image,alt:""}}):t._e()]),t._v(" "),r("div",{class:t.element.image?"col-lg-8":"col-12"},[r("vue-dropzone",{ref:"ref_image",staticClass:"text-center",attrs:{id:"image",options:t.dropzoneOptions,duplicateCheck:!0,useCustomSlot:!0},on:{"vdropzone-file-added":function(e){return t.$validateImageDropzone(e,t.$refs.ref_image.dropzone,1,1e5,"100kb")}}},[r("div",{staticClass:"dropzone-custom-content"},[r("h5",{staticClass:"dropzone-custom-title text-primary"},[t._v("\n                              Suelte los archivos aquí o haga click para\n                              cargarlos.\n                            ")])])])],1)]),t._v(" "),t.errors&&t.errors.avatar?r("label",{staticClass:"text-danger text-sm d-block mt-2",attrs:{for:"image"}},[t._v(t._s(t.errors.avatar[0]))]):t._e()])]),t._v(" "),r("div",{staticClass:"col-12"},[r("div",{staticClass:"form-group"},[r("label",{staticClass:"font-weight-bold",attrs:{for:"description"}},[t._v("Descripción")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.element.description,expression:"element.description"}],staticClass:"form-control",attrs:{type:"text",id:"description"},domProps:{value:t.element.description},on:{input:function(e){e.target.composing||t.$set(t.element,"description",e.target.value)}}}),t._v(" "),t.errors&&t.errors.description?r("label",{staticClass:"mt-2 text-danger text-sm",attrs:{for:"description"}},[t._v(t._s(t.errors.description[0]))]):t._e()])]),t._v(" "),t.project&&t.project.price_separation?r("div",{staticClass:"col-12"},[r("label",{staticClass:"font-weight-bold",attrs:{for:"price_separation"}},[t._v("Precio de Separación de Combo")]),t._v(" "),r("money",t._b({staticClass:"form-control form-control-lg",attrs:{disabled:""},model:{value:t.project.price_separation,callback:function(e){t.$set(t.project,"price_separation",e)},expression:"project.price_separation"}},"money",t.project&&1==t.project.master_currency_id?t.moneyLocal:t.moneyForeign,!1)),t._v(" "),t.errors&&t.errors.price_separation?r("label",{staticClass:"mt-2 text-danger text-sm",attrs:{for:"price_separation"}},[t._v(t._s(t.errors.price_separation[0]))]):t._e()],1):t._e()])])])])]),t._v(" "),r("div",{staticClass:"row mb-4"},[t._m(1),t._v(" "),r("div",{staticClass:"col-12 col-lg-10"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"form-group"},[r("label",{staticClass:"font-weight-bold",attrs:{for:"price_separation"}},[t._v("Precio Total del Combo")]),t._v(" "),r("money",t._b({staticClass:"form-control form-control-lg",attrs:{disabled:!0},model:{value:t.element.price_total,callback:function(e){t.$set(t.element,"price_total",e)},expression:"element.price_total"}},"money",t.project&&1==t.project.master_currency_id?t.moneyLocal:t.moneyForeign,!1))],1)]),t._v(" "),r("div",{staticClass:"col-12"},[r("div",{staticClass:"form-group"},[r("label",{staticClass:"font-weight-bold",attrs:{for:"price_separation"}},[t._v("Proyecto")]),t._v(" "),r("div",{staticClass:"text-right position-relative mb-1"},[r("img",{staticClass:"position-absolute",staticStyle:{left:"5px",top:"5px"},attrs:{src:t.imagesUrl+"/projects/"+t.element.project_rel.logo_colour,height:"25"}})]),t._v(" "),r("img",{staticClass:"img-fluid d-block",staticStyle:{"max-height":"200px"},attrs:{src:t.imagesUrl+"/projects/"+t.element.project_rel.images_format[0],alt:""}}),t._v(" "),r("h2",{staticClass:"mb-0"},[t._v(t._s(t.element.project_rel.name_es))]),t._v("\n                    "+t._s(t.element.project_rel.ubigeo_rel.district)+" -\n                    "+t._s(t.element.project_rel.ubigeo_rel.department)+"\n                  ")])]),t._v(" "),t._m(2),t._v(" "),t._l(t.elementParent.departments_rel,(function(e){return r("div",{key:"dep"+e.id,staticClass:"col-12 col-lg-6 mb-2"},[r("b",[t._v(t._s(e.description))]),t._v(" "),r("br"),t._v("\n                  "+t._s(e.sap_code)+" "),r("br"),t._v("\n                  "+t._s(e.area)+"m2\n                  "),r("div",[t._v("\n                    "+t._s(1==t.project.master_currency_id?e.price_format:e.price_foreign_format)+"\n                  ")])])}))],2)])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12 col-lg-2"},[e("h2",[this._v("Datos Principales")]),this._v(" "),e("p",[this._v("Indica los datos principales del Combo")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12 col-lg-2"},[e("h2",[this._v("Datos de Inmuebles")]),this._v(" "),e("p",[this._v("Datos de los inmuebles del Combo")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12"},[e("label",{staticClass:"font-weight-bold",attrs:{for:"price_separation"}},[this._v("Inmuebles")])])}],!1,null,null,null);e.default=p.exports},uNoH:function(t,e,r){(t.exports=r("I1BE")(!1)).push([t.i,"\n.loading-svg[data-v-7a0ec1bd]{\r\n    fill: currentColor;\r\n    stroke: currentColor;\n}\r\n",""])}}]);